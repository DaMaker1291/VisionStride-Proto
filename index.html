<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VisionStride - AI Navigation Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/vision_bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.3.1640029074/camera_utils.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes pulse-ring {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }
        .pulse-ring { animation: pulse-ring 2s infinite; }
        .detection-overlay {
            position: absolute;
            border: 2px solid #ef4444;
            background: rgba(239, 68, 68, 0.1);
            pointer-events: none;
            transition: all 0.3s ease;
        }
        .radar-sweep {
            background: conic-gradient(from 0deg, transparent 0deg, rgba(34, 197, 94, 0.3) 30deg, transparent 60deg);
            animation: radar 3s linear infinite;
        }
        @keyframes radar {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 via-black to-gray-900 text-white min-h-screen overflow-hidden">
    <!-- Header -->
    <header class="absolute top-0 left-0 right-0 z-20 p-4 bg-black/50 backdrop-blur-md border-b border-gray-800">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <i class="fas fa-eye text-green-500 text-2xl"></i>
                <h1 class="text-2xl font-bold bg-gradient-to-r from-green-400 to-blue-500 bg-clip-text text-transparent">VisionStride</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div class="text-sm">
                    <span class="text-gray-400">Status:</span>
                    <span id="status" class="text-green-500 font-mono ml-2">System Ready...</span>
                </div>
                <div class="text-sm">
                    <span class="text-gray-400">FPS:</span>
                    <span id="fps" class="text-blue-500 font-mono ml-2">0</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex flex-col items-center justify-center min-h-screen pt-20">
        <!-- Camera Container -->
        <div class="relative mb-8">
            <div class="relative w-80 h-80 rounded-full overflow-hidden border-4 border-gray-800 shadow-2xl">
                <!-- Radar Effect -->
                <div class="absolute inset-0 radar-sweep opacity-50"></div>
                
                <!-- Video Feed -->
                <video id="webcam" autoplay playsinline class="object-cover w-full h-full grayscale opacity-70"></video>
                
                <!-- Detection Overlay Container -->
                <div id="detectionOverlay" class="absolute inset-0"></div>
                
                <!-- Center Crosshair -->
                <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                    <div class="w-12 h-12 border-2 border-green-500 rounded-full opacity-80"></div>
                    <div class="absolute w-16 h-0.5 bg-green-500 opacity-60"></div>
                    <div class="absolute h-16 w-0.5 bg-green-500 opacity-60"></div>
                </div>
            </div>
            
            <!-- Distance Indicators -->
            <div class="absolute -right-32 top-1/2 transform -translate-y-1/2 text-xs space-y-2">
                <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                    <span class="text-green-500">Safe (>3m)</span>
                </div>
                <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                    <span class="text-yellow-500">Caution (1-3m)</span>
                </div>
                <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                    <span class="text-red-500">Danger (<1m)</span>
                </div>
            </div>
        </div>

        <!-- Control Panel -->
        <div class="flex flex-col items-center space-y-6">
            <!-- Start/Stop Button -->
            <button id="startBtn" class="relative group">
                <div class="absolute inset-0 bg-gradient-to-r from-red-600 to-red-500 rounded-full blur-lg opacity-75 group-hover:opacity-100 transition-all pulse-ring"></div>
                <div class="relative bg-red-600 hover:bg-red-500 w-56 h-56 rounded-full text-2xl font-bold transition-all transform hover:scale-105 flex items-center justify-center">
                    <i class="fas fa-play mr-3"></i>
                    <span>START RUN</span>
                </div>
            </button>

            <!-- Navigation Guidance -->
            <div id="guidancePanel" class="bg-gray-900/80 backdrop-blur-md rounded-2xl p-6 border border-gray-800 max-w-2xl w-full mx-4 hidden">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-green-400">
                        <i class="fas fa-route mr-2"></i>Navigation Guidance
                    </h3>
                    <div id="urgencyLevel" class="px-3 py-1 rounded-full text-xs font-bold bg-green-500/20 text-green-400">
                        SAFE
                    </div>
                </div>
                <div id="guidanceText" class="text-center text-xl mb-4">
                    Path is clear. Proceed with confidence.
                </div>
                <div id="directionalGuidance" class="grid grid-cols-3 gap-2 text-center">
                    <div></div>
                    <div id="upDirection" class="bg-gray-800 rounded-lg p-3 opacity-50">
                        <i class="fas fa-arrow-up text-2xl"></i>
                    </div>
                    <div></div>
                    <div id="leftDirection" class="bg-gray-800 rounded-lg p-3 opacity-50">
                        <i class="fas fa-arrow-left text-2xl"></i>
                    </div>
                    <div id="centerDirection" class="bg-green-600 rounded-lg p-3">
                        <i class="fas fa-walking text-2xl"></i>
                    </div>
                    <div id="rightDirection" class="bg-gray-800 rounded-lg p-3 opacity-50">
                        <i class="fas fa-arrow-right text-2xl"></i>
                    </div>
                </div>
            </div>

            <!-- Detection Info -->
            <div id="detectionInfo" class="bg-gray-900/80 backdrop-blur-md rounded-2xl p-4 border border-gray-800 max-w-2xl w-full mx-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-search text-blue-500"></i>
                        <span class="text-sm text-gray-400">Scanning Environment</span>
                    </div>
                    <div id="objectCount" class="text-sm text-gray-400">
                        Objects detected: <span class="text-white font-bold">0</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Audio Alert Indicator -->
    <div id="audioIndicator" class="fixed bottom-4 right-4 bg-green-500/20 border border-green-500 rounded-full p-3 hidden">
        <i class="fas fa-volume-up text-green-500 text-xl animate-pulse"></i>
    </div>

    <script src="app.js"></script>
</body>
</html>
